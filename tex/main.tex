% Use this if you generate the presentation itself.
\documentclass[%
final,
xcolor = table,
usenames,
dvipsnames,
table,
aspectratio = 169]{beamer}

% Use this documentclass line for generating the handout
% \documentclass[%
% final,
% xcolor = table,
% usenames,
% dvipsnames,
% table,
% hadout,
% draft,
% aspectratio = 169,
% ]{beamer}

\usepackage{appendixnumberbeamer}

% minted load packages: keyval, ifthen, etoolbox, kvoptions, calc, xstring,
% fancyvrb, ifplatform, xcolor, float, pdftexcmds, lineno
\usepackage[outputdir = ../.latex-cache]{minted} % minted above polyglossia, because errors
\usemintedstyle{perldoc}

%% Two version of compilers (pdflatex, xelatex)
\usepackage{ifxetex}
%% XeTeX
\ifxetex
    \usepackage{polyglossia} % Multilanguages

    \usepackage{xunicode} % Generate Unicode chars from accented glyphs.
    \usepackage{xltxtra} % "Extras" for LaTeX users of XeTeX.

    % Support of russian language (hyphenation, styles, etc.)
    \setmainlanguage{english} % default language --- English
    \setotherlanguage{russian} % additional language --- Russian

    %% Fonts
    % \defaultfontfeatures{Ligatures=TeX,Mapping=tex-text}
    % \setmainfont{CMU Serif}
    % \setsansfont{CMU Sans Serif}
    % \setmainfont{Droid Serif}
    % \newfontfamily\cyrillicfont{Fira Sans Light}[BoldFont={Fira Sans}]%
    % \setsansfont{Droid Sans}
    % \newfontfamily\cyrillicfontsf{Droid Sans}
    % \setmonofont{CMU Typewriter Text}
    \setmonofont{Anonymous Pro}
    % \newfontfamily\cyrillicfonttt{Anonymous Pro}
\else
    \usepackage[T2A]{fontenc}
    \usepackage[utf8]{inputenc}
    \usepackage{lmodern}
\fi

\usepackage{graphicx} % Images
\usepackage{pdfpages} % PDFs
\usepackage{pgfpages} % Two screens

\usepackage{multirow} % Multirows in tables

% Set path for graphics
\graphicspath{{../images/}}

%% Vector graphics
\usepackage{tikz}

\usetikzlibrary{arrows.meta,
  automata,
  backgrounds,
  calc,
  decorations.markings,
  decorations.pathmorphing,
  fit,
  graphs,
  matrix,
  positioning,
  shapes.geometric,
  shapes.misc,
  shapes.multipart,
  tikzmark,
}

% ==============================================================================

\mode<presentation>
{

  %% Theme settings
  \usetheme{dsec}
  \dsecset{progressbar = frametitle}
  \dsecset{subsectionpage = progressbar}

  %% Notes settings
  % \setbeameroption{hide notes}
  % \setbeameroption{show notes}
  % \setbeameroption{show notes on second screen = right}
  % \setbeameroption{show only notes}

  % Style of notes
  \setbeamertemplate{note page}[plain]
}

%% Fix bug with beamer + xelatex + notes
% https://tex.stackexchange.com/questions/232168/normal-text-is-invisible-when-using-beamer-with-notes-and-xelatex
\makeatletter
\def\beamer@framenotesbegin{% at beginning of slide
     \usebeamercolor[fg]{normal text}
      \gdef\beamer@noteitems{}%
      \gdef\beamer@notes{}%
}
\makeatother

% ==============================================================================

\title{Rust and what's this thing for?}

\author{Abc Xyz\\
@dura\_lex}
\institute{\includegraphics[height = 2cm]{rust_logo.pdf}}
\titlegraphic{\includegraphics[height = 0.9cm]{logo.pdf}}

\date{}
\subject{Rust}

% ==============================================================================

\begin{document}

\maketitle

%% Set theme colors
\tikzset{%
  text = dBlack,%
  % draw = White,%
}

% ------------------------------------------------------------------------------

\begin{frame}{Agenda}
  \setbeamertemplate{section in toc}[sections numbered]%
  \begin{columns}
    \begin{column}{.5\textwidth}
      \tableofcontents[hideothersubsections, sections = {1-4}]
    \end{column}
    \begin{column}{.5\textwidth}
      \tableofcontents[hideothersubsections, sections = {5-8}]
    \end{column}
  \end{columns}
\end{frame}

% ------------------------------------------------------------------------------

\section{Foreword}
\input{motivation}
\input{experience}

% ------------------------------------------------------------------------------

\section{What is Rust?}
\input{what_is}

\subsection{Quick facts about Rust}
\input{facts}

\subsection{Why Rust?}
\input{why_rust}

% ------------------------------------------------------------------------------

\section{(Un)safe}
\subsection{Control vs Safety}
\input{control_vs_safety}

\subsection{What's wrong with systems languages?}
\input{wrong}

\subsection{Problems}
\input{problems}

\subsection{Ownership and Borrowing}
\input{ownership}
\input{borrowing}
\input{borrowing_mutable}

\subsection{How do we get safety?}
\input{o_and_b_safety}

\subsection{Comparison}
\input{comparison}

\subsection{Concurrency}
\input{concurrency}

% ------------------------------------------------------------------------------

\section{Syntax}
\input{syntax}

\subsection{Concepts}
\input{concepts}

\subsection{Enums (Algebraic data type)}
\input{enums}

\subsection{Error handling}
\input{errors}
\subsubsection{Panic}
\input{panic}
\subsubsection{Result}
\input{result}

\subsection{Structs}
\subsubsection{Object-oriented programming}
\input{oop}
\subsubsection{Structs}
\input{structs}

\subsection{Other}
\input{other_syntax}

% ------------------------------------------------------------------------------

\section{Ecosystem}
\subsection{Community}
\input{community}

\subsection{Rustup}

\subsection{Cargo}
\input{cargo}

\subsection{Additional tools}
\input{additional_tools}

\subsection{IDE}

% ------------------------------------------------------------------------------

\section{Popularity}

\subsection{Friends}

\subsection{Popular software}

\subsubsection{Firmware}

\subsubsection{OS}

\subsubsection{Drivers}

\subsubsection{Applications}
\input{applications}

\subsubsection{Games}

% ------------------------------------------------------------------------------

\section{Pitfalls}
\subsection{Compilation times}
\subsection{Syntax}

% ------------------------------------------------------------------------------

\section{Summary}
\input{summary}

\appendix

\input{biblio}

\end{document}
